{"version":3,"sources":["webpack:///./src/components/tabBar/tabBar.vue?17a0","webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./src/components/shopcart/ShopCart.vue","webpack:///./src/components/shopcart/ShopCart.vue?4f0d","webpack:///./src/components/shopcart/ShopCart.vue?08e2","webpack:///./src/components/Back.vue?ec8e","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/components/Back.vue","webpack:///./src/components/Back.vue?28d3","webpack:///./src/components/topTitle/TopTitle.vue","webpack:///./src/components/topTitle/TopTitle.vue?2301","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/views/cart/Cart.vue","webpack:///./src/views/cart/Cart.vue?3a68","webpack:///./src/assets/images/nullCartGrey.png","webpack:///./src/components/effects/cartEffect.js","webpack:///./src/views/cart/Cart.vue?204e","webpack:///./src/components/tabBar/tabBar.vue","webpack:///./src/components/tabBar/tabBar.vue?4ab3","webpack:///./src/components/topTitle/TopTitle.vue?ad6e"],"names":["toInteger","requireObjectCoercible","module","exports","count","str","String","this","result","n","Infinity","RangeError","class","showLink","to","shopId","ShopInfos","shopName","src","shopImg","alt","cartProductList","item","index","_id","showNum","showList","imgUrl","name","price","toFixed","handleShowList","cartCalc","total","props","setup","cartList","value","length","render","__scopeId","classof","TypeError","handleBackClick","router","back","backHide","whiteColor","position","pageTitle","components","BackButton","Back","$","thisNumberValue","repeat","fails","nativeToFixed","floor","Math","pow","x","acc","log","x2","multiply","data","c","c2","divide","dataToString","s","t","call","FORCED","target","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","slice","title","shopIdList","id","isNull","shopidList","i","nullobj","JSON","stringify","productList","push","num","TabBar","TopTitle","ShopCart","useCommonCartEffect","store","useStore","useRoute","params","useRouter","state","calculations","computed","selectAll","isPush","shop","checkedAll","product","checked","cartShow","ref","totalChecked","changCartShow","addCartItemInfo","productId","productInfo","dispatch","reduceCartItemInfo","CartItemChecked","CartItemUnCheck","clearCart","SelecAllCart","unSelecAllCart","handleOrderCreation","localStorage","removeItem","setTimeout","useShopCartEffect","shopinfo","resultList","useLocalStorageEffect","cartListTime","newTime","Date","getTime","timeDiff","hour","parseInt","keyName","commit","tabBarList","key","handleTab","path","icon","page","currentPage","pathname","pathName"],"mappings":"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","file":"js/cart.9de15633.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./tabBar.vue?vue&type=style&index=0&id=e53696f0&lang=scss&scoped=true\"","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","<template>\r\n  <div class=\"shopCart\">\r\n    <div class=\"shopCart__title\">\r\n      <router-link\r\n        class=\"shoptoLink\"\r\n        v-if=\"showLink ? true : false\"\r\n        :to=\"`/shop/${shopId}`\"\r\n      >\r\n      </router-link>\r\n      <div class=\"shopCart__title__shopname\">{{ ShopInfos.shopName }}</div>\r\n      <div class=\"shopCart__title__right\">\r\n        <div class=\"shopCart__title__shopimg\">\r\n          <img :src=\"ShopInfos.shopImg\" alt=\"\" />\r\n        </div>\r\n        <div class=\"shopCart__title__icon\" v-if=\"showLink ? true : false\">\r\n          <span class=\"iconfont icon-fanhui1\"></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <template\r\n      v-for=\"(item,index) in cartProductList\"\r\n      :key=\"item?._id\"\r\n    >\r\n    <div\r\n      class=\"productList__layout_item\"\r\n      v-if='index>=showNum?showList:true'\r\n    >\r\n      <div class=\"productList__item\" v-if=\"item?._id\">\r\n        <div class=\"babyItem\">\r\n          <div :class=\"{ babyItem__img: true, smallImg: true }\">\r\n            <img :src=\"item.imgUrl\" :alt=\"item.name\" />\r\n          </div>\r\n          <div class=\"babyItem__text\">\r\n            <div class=\"babyItem__text__title\">{{ item.name }}</div>\r\n            <p class=\"babyItem__text__price\">\r\n              <span class=\"babyItem__text__price_now\"\r\n                ><i>&yen;</i>{{ item.price }} /件 , 共{{ item.count }}件</span\r\n              >\r\n              <span class=\"babyItem__text__price_total\">\r\n                <i>&yen;</i>{{ (item.price * item.count).toFixed(2) }}\r\n              </span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  <div class=\"showAlllist\" v-show=\"showNum?true:false\"  v-if='showList?false:true' @click=\"handleShowList\">\r\n    <p>共计{{cartCalc.total}}件，展开</p>\r\n    <span class=\"iconfont icon-fanhui1\"></span>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {ref} from 'vue';\r\nimport { useCommonCartEffect ,useShopCartEffect} from \"../../components/effects/cartEffect\";\r\n\r\n\r\nexport default {\r\n  name: \"ShopCart\",\r\n  props: [\"shopId\", \"showLink\",'showNum'],\r\n  setup(props) {\r\n    const { cartList} = useCommonCartEffect();\r\n\r\n    const { ShopInfos, cartProductList,cartCalc} = useShopCartEffect( props.shopId,\r\ncartList );\r\n\r\n    //列表隐藏和展开\r\n    const showList=ref(false);\r\n    if(cartProductList.value.length>props.showNum){ //当购物车商品数量 大于 showNum时，才显示\r\n        showList.value=false;\r\n    }else{\r\n        showList.value=true;\r\n    }\r\n    const handleShowList=()=>{\r\n      showList.value = true;\r\n    }\r\n\r\n    return { ShopInfos,showList,handleShowList, cartProductList,cartCalc };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/style/variables.scss\";\r\n@import \"../../assets/style/mixins.scss\";\r\n.shopCart {\r\n  margin: 0rem 0.36rem 0.32rem;\r\n  background: #fff;\r\n  padding: 0.32rem 0.32rem 0.32rem;\r\n  border-radius: .08rem;\r\n  &__title {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-content: center;\r\n    margin-bottom: 0.08rem;\r\n    position: relative;\r\n    &__right {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n    &__shopname {\r\n      font-size: 0.32rem;\r\n      font-weight: bold;\r\n      line-height: 0.56rem;\r\n    }\r\n    &__shopimg {\r\n      width: 0.56rem;\r\n      height: 0.56rem;\r\n      background: $searchBgcolor;\r\n      border-radius: 50%;\r\n      overflow: hidden;\r\n      img {\r\n        width: 100%;\r\n      }\r\n    }\r\n    &__icon {\r\n      color: $searchbox-color;\r\n      margin-left: 0.1rem;\r\n      height: 0.56rem;\r\n      line-height: 0.56rem;\r\n    }\r\n    .shoptoLink {\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n  .productList__layout_item {\r\n    position: relative;\r\n    padding: 0.2rem 0rem;\r\n  }\r\n  .babyItem {\r\n    flex: 1;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    &__img {\r\n      width: 1.36rem;\r\n      height: 1.36rem;\r\n      margin-right: 0.24rem;\r\n      img {\r\n        width: 100%;\r\n      }\r\n    }\r\n    &__img.smallImg {\r\n      width: 0.92rem;\r\n      height: 0.92rem;\r\n    }\r\n    &__text {\r\n      flex: 1;\r\n      &__title {\r\n        font-size: 0.28rem;\r\n        line-height: 0.36rem;\r\n        margin-bottom: 0.14rem;\r\n        @include ellipsis(1);\r\n      }\r\n\r\n      &__price {\r\n        color: $content-notice-fontColor;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        line-height: 0.44rem;\r\n        &_now {\r\n          font-size: 0.24rem;\r\n          margin-right: 0.16rem;\r\n          \r\n        }\r\n        &_total {\r\n          font-size: 0.28rem;\r\n          color: $content-fontColor-black;\r\n        }\r\n        i {\r\n          font-size: 0.2rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .showAlllist{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-content: center;\r\n    color:$content-notice-fontColor;\r\n    background: $pageBgColor;\r\n    line-height: .72rem;\r\n    font-size: .28rem;\r\n    .iconfont{\r\n       transform: rotate(90deg);\r\n      -ms-transform: rotate(90deg);\r\n      -moz-transform: rotate(90deg);\r\n      -webkit-transform: rotate(90deg);\r\n      -o-transform: rotate(90deg);\r\n      color: $searchbox-color;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ShopCart.vue?vue&type=template&id=0b446384&scoped=true\"\nimport script from \"./ShopCart.vue?vue&type=script&lang=js\"\nexport * from \"./ShopCart.vue?vue&type=script&lang=js\"\n\nimport \"./ShopCart.vue?vue&type=style&index=0&id=0b446384&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0b446384\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ShopCart.vue?vue&type=style&index=0&id=0b446384&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Back.vue?vue&type=style&index=0&id=1616427a&lang=scss&scoped=true\"","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","<template>\r\n    <div \r\n    :class=\"{'back':true,\r\n    'backWhite':whiteColor?true:false,\r\n    'backposition':position?true:false}\"\r\n    @click=\"handleBackClick\"\r\n    >\r\n    <span class=\"iconfont icon-fanhui\"></span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {useRouter} from 'vue-router';\r\nexport default {\r\n    name:'BackButton',\r\n    props:['whiteColor','position'],\r\n    setup(){\r\n        const router = useRouter();\r\n        const handleBackClick=()=>{\r\n            router.back();\r\n        }\r\n        return{handleBackClick}\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/style/variables.scss';\r\n.back{\r\n    color:$searchbox-color;\r\n    margin-bottom: $layout-margin-bottom;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-right: .1rem;\r\n    .iconfont{\r\n        font-size: .64rem;\r\n    }\r\n}\r\n.backWhite{\r\n    color:#fff;   \r\n}\r\n.backposition{\r\n    position: absolute;\r\n    left:.25rem;\r\n    margin:0rem;\r\n    z-index: 10;\r\n}\r\n</style>","import { render } from \"./Back.vue?vue&type=template&id=1616427a&scoped=true\"\nimport script from \"./Back.vue?vue&type=script&lang=js\"\nexport * from \"./Back.vue?vue&type=script&lang=js\"\n\nimport \"./Back.vue?vue&type=style&index=0&id=1616427a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1616427a\"\n\nexport default script","<template>\r\n  <div class=\"top\">\r\n    <back-button\r\n      :whiteColor=\"whiteColor\"\r\n      :position=\"true\"\r\n      v-if=\"backHide ? false : true\"\r\n    />\r\n    <div :class=\"{ top__title: true, titleWhite: whiteColor ? true : false }\">\r\n      {{ pageTitle }}\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n//获取组件\r\nimport BackButton from \"../../components/Back\";\r\nexport default {\r\n  name: \"TopTitle\",\r\n  props: [\"whiteColor\", \"pageTitle\", \"backHide\"],\r\n  components: { BackButton }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/style/variables.scss\";\r\n.top {\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  position: fixed;\r\n  z-index: 55;\r\n  justify-content: flex-start;\r\n  padding: 0.2rem 0rem $layout-margin-bottom;\r\n  &__title {\r\n    flex: 1;\r\n    height: 0.7rem;\r\n    line-height: 0.7rem;\r\n\r\n    font-size: 0.32rem;\r\n    text-align: center;\r\n  }\r\n  .titleWhite {\r\n    color: #fff;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./TopTitle.vue?vue&type=template&id=03aa4468&scoped=true\"\nimport script from \"./TopTitle.vue?vue&type=script&lang=js\"\nexport * from \"./TopTitle.vue?vue&type=script&lang=js\"\n\nimport \"./TopTitle.vue?vue&type=style&index=0&id=03aa4468&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-03aa4468\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","<template>\r\n  <div class=\"toptitles\">\r\n     <top-title :pageTitle=\"title\" :backHide=\"true\" />\r\n  </div>\r\n  <div class=\"main\">\r\n    <template v-for=\"(id, index) in shopIdList\" :key=\"index\">\r\n      <shop-cart :shopId=\"id\" :showLink=\"true\" showNum='3' />\r\n    </template>\r\n\r\n    <div class=\"nullCart\" v-if=\"isNull?true:false\">\r\n      <div class=\"nullCart__img\"><img src=\"../../assets/images/nullCartGrey.png\" alt=\"\"></div>\r\n      <div class=\"nullCart__title\">购物车还空空如也哦~</div> \r\n      <div class=\"nullCart__button\">\r\n        <router-link to='/'>\r\n        去逛逛\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <tab-bar />\r\n  <div class=\"pageMainBg\"></div>\r\n</template>\r\n<script>\r\nimport { ref, computed } from \"vue\";\r\nimport {\r\n  useLocalStorageEffect,\r\n  useCommonCartEffect\r\n} from \"../../components/effects/cartEffect\";\r\n//获取组件\r\nimport TopTitle from \"../../components/topTitle/TopTitle.vue\";\r\nimport TabBar from \"../../components/tabBar/tabBar\";\r\nimport ShopCart from \"../../components/shopcart/ShopCart.vue\";\r\n\r\n//获得购物车店铺shopId的 list\r\nconst useGetShopIdListEffect = cartList => {\r\n  const isNull=ref(true);\r\n  const shopIdList = computed(() => {\r\n    const shopidList = [];\r\n    for (let i in cartList) {\r\n      const nullobj= JSON.stringify(cartList[i]?.productList)==='{}';//是否是空对象\r\n      if(!nullobj){\r\n        shopidList.push(i);\r\n        isNull.value=false;\r\n      } \r\n    }\r\n    return shopidList;\r\n  });\r\n  const num = ref(shopIdList.value.length);\r\n  const title = `我的全部购物车(${num.value})`;\r\n\r\n  return { shopIdList, title,isNull };\r\n}\r\n\r\nexport default {\r\n  name: \"Cart\",\r\n  components: { TabBar, TopTitle, ShopCart },\r\n  setup() {\r\n    useLocalStorageEffect(); //打开页面时，从本地获取数据\r\n\r\n    const { cartList } = useCommonCartEffect();\r\n    const { shopIdList, title,isNull } = useGetShopIdListEffect(cartList);\r\n\r\n    return { shopIdList, title,isNull };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\"  scoped>\r\n@import \"../../assets/style/variables.scss\";\r\n@import \"../../assets/style/mixins.scss\";\r\n\r\n.toptitles{\r\n  width: 100%;\r\n  background: #fff;\r\n  box-sizing: border-box;\r\n  height: 1rem;\r\n  overflow: hidden;\r\n  position: fixed;\r\n  z-index: 50;\r\n}\r\n.main {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 1.1rem;\r\n  padding-top: $layout-margin-bottom;\r\n  bottom: 0.99rem;\r\n  z-index: 10;\r\n  overflow-y: auto;\r\n}\r\n\r\n.nullCart{\r\n  text-align: center;\r\n  position: relative;\r\n  top:50%;\r\n  transform: translateY(-85%);\r\n  &__img{\r\n    opacity: .35;\r\n    width:1.8rem;\r\n    display: inline-block;\r\n    margin-bottom:.14rem;\r\n    img{width:100%}\r\n  }\r\n  &__title{\r\n    font-size: .3rem;\r\n    color:$content-fontColor-grey;\r\n    margin-bottom: .36rem;\r\n  }\r\n  &__button{\r\n    display: inline-block;\r\n    width: 1.8rem;\r\n    height: .64rem;\r\n    line-height: .64rem;\r\n    font-size: .28rem;\r\n    border-radius: .32rem;\r\n    background: $redColor;\r\n    a{\r\n      display: block;\r\n      color:#fff;\r\n      height: 100%;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n.pageMainBg {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: $pageBgColor;\r\n  z-index: 1;\r\n}\r\n</style>\r\n","import { render } from \"./Cart.vue?vue&type=template&id=66435b30&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=66435b30&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-66435b30\"\n\nexport default script","module.exports = __webpack_public_path__ + \"img/nullCartGrey.221953ef.png\";","import { computed, ref } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\n\r\nexport const useCommonCartEffect = () => {\r\n    const store = useStore();\r\n    const shopId = useRoute().params.id;\r\n    const router = useRouter();\r\n    const cartList = store.state.cartList;\r\n    //计算属性：购物车商品数量、总价、全选状态\r\n    const calculations = computed(() => {\r\n        const result = { total: 0, price: 0, selectAll: true, isPush:false };\r\n        const shop = cartList[shopId];\r\n        const productList = shop?.productList;\r\n        if (!shop?.checkedAll) {\r\n            result.selectAll = false;\r\n        }\r\n        if (productList) {\r\n            for (let i in productList) {\r\n                const product = productList[i];\r\n                if (product.count&&product.checked) {             \r\n                    //如果count存在的话\r\n                    result.total += product.count;\r\n                    result.price += product.price * product.count;\r\n                    result.isPush=true;                   \r\n                }\r\n            }\r\n        }\r\n        result.price = result.price.toFixed(2);\r\n        if(result.price===0){result.isPush=false};\r\n        return result;\r\n    });\r\n\r\n\r\n    //计算属性：单个店铺购物车列表\r\n    const productList = computed(() => {\r\n        const productList = cartList[shopId]?.productList || [];\r\n        return productList;\r\n    });\r\n\r\n\r\n    //购物车显示隐藏\r\n    const cartShow = ref(false);\r\n    const totalChecked = computed(() => {\r\n        let totalChecked = false;\r\n        const productList = cartList[shopId]?.productList;\r\n        if (productList) {\r\n            for (let i in productList) {\r\n                const product = productList[i];\r\n                if (product.count) {\r\n                    //如果count存在的话\r\n                    totalChecked = true;\r\n                }\r\n            }\r\n            if (!totalChecked) {\r\n                //如果购物车没数据了\r\n                cartShow.value = !cartShow.value;\r\n            }\r\n        }\r\n        return totalChecked;\r\n    });\r\n\r\n    const changCartShow = () => {\r\n        if (totalChecked.value) {\r\n            cartShow.value = !cartShow.value;\r\n        }\r\n    };\r\n\r\n\r\n    //增加商品\r\n    const addCartItemInfo = (shopId, productId, productInfo) => {\r\n        store.dispatch(\"addCartItemInfo\", { shopId, productId, productInfo});\r\n    };\r\n\r\n    //删除商品\r\n    const reduceCartItemInfo = (shopId, productId, productInfo) => {\r\n        store.dispatch(\"reduceCartItemInfo\", { shopId, productId, productInfo });\r\n    };\r\n\r\n    //点击购物车选中状态\r\n    const CartItemChecked = (shopId, productId) => {\r\n        store.dispatch(\"CartItemChecked\", { shopId, productId });\r\n    };\r\n    //点击购物车取消选中\r\n    const CartItemUnCheck = (shopId, productId) => {\r\n        store.dispatch(\"CartItemUnCheck\", { shopId, productId });\r\n    };\r\n    //清空购物车\r\n    const clearCart = shopId => {\r\n        store.dispatch(\"clearCart\", { shopId });\r\n    };\r\n    //全选状态\r\n    const SelecAllCart = shopId => {\r\n        store.dispatch(\"SelecAllCart\", { shopId });\r\n    };\r\n    //取消全选\r\n    const unSelecAllCart = shopId => {\r\n        store.dispatch(\"unSelecAllCart\", { shopId });\r\n    };\r\n\r\n    //结算订单\r\n    const handleOrderCreation = (shopId) => {\r\n        localStorage.removeItem('shopNull'); //删除本地存储shopNull，页面顺利跳转\r\n        store.dispatch(\"setCartListlocal\", { shopId }); //先存下本地存储\r\n        setTimeout(() => {\r\n            // 跳转\r\n            router.push(`/orderCreation/${shopId}`);\r\n            // 带查询参数，变成 /register?plan=private\r\n            //router.push({ path: 'register', query: { plan: 'private' }})\r\n        }, 50);\r\n\r\n    }\r\n\r\n    return {\r\n        cartList,\r\n        productList,\r\n        shopId,\r\n        cartShow,\r\n        changCartShow,\r\n        totalChecked,\r\n        calculations,       \r\n        addCartItemInfo,\r\n        reduceCartItemInfo,\r\n        CartItemChecked,\r\n        CartItemUnCheck,\r\n        clearCart,\r\n        SelecAllCart,\r\n        unSelecAllCart,\r\n        handleOrderCreation\r\n    };\r\n}\r\n\r\n//提交订单：shopCart组件 \r\n\r\nexport const useShopCartEffect = (shopId, cartList) => {\r\n    //计算属性，店铺信息\r\n    const ShopInfos = computed(() => {\r\n      const shopinfo = { shopName: \"\", shopImg: \"\" };\r\n      const shop = cartList[shopId];\r\n      shopinfo.shopName = shop.shopName;\r\n      shopinfo.shopImg = shop.shopImg;\r\n      return shopinfo;\r\n    });\r\n    //计算属性：提交订单购物车列表（选中结算）\r\n    const cartProductList = computed(() => {\r\n      const resultList = [];\r\n      const productList = cartList[shopId]?.productList;\r\n      for (let i in productList) {\r\n        if (productList[i].checked) {\r\n          resultList.push(productList[i]);\r\n        }\r\n      }\r\n      return resultList;\r\n    });\r\n\r\n    //计算属性：购物车商品数量、总价、全选状态\r\n    const cartCalc = computed(() => {\r\n        const result = { total: 0, price: 0};\r\n        const productList =cartProductList.value; \r\n        if (productList) {\r\n            for (let i in productList) {\r\n                const product = productList[i];\r\n                if (product.count) {\r\n                    //如果count存在的话\r\n                    result.total += product.count;\r\n                    result.price += product.price * product.count;                    \r\n                }\r\n            }\r\n        }\r\n        result.price = result.price.toFixed(2);\r\n        return result;\r\n    });\r\n\r\n  \r\n    return { ShopInfos, cartProductList,cartCalc };\r\n  }\r\n  \r\n\r\n\r\n//从本地存储获取购物车数据\r\nexport const useLocalStorageEffect = () => {\r\n    const store = useStore();\r\n    //从本地获取数据及时间戳\r\n    const { cartList } = localStorage;\r\n    const { cartListTime } = localStorage;\r\n    if (!cartList) return;\r\n    //当前的时间戳\r\n    const newTime = new Date().getTime();\r\n    //时间戳差值\r\n    const timeDiff = newTime - cartListTime;\r\n    //换算小时\r\n    let hour = parseInt(timeDiff / (1000 * 60 * 60));\r\n    if (hour <= 240000) {\r\n        //10000天之内，可以用本地数据\r\n        const keyName = 'cartList';\r\n        const data = cartList;\r\n        store.commit(\"setStateData\", { keyName, data });\r\n    }\r\n}\r\n\r\n//设置本地存储\r\nexport const setLocalStorageEffect=(key,data)=>{\r\n    localStorage[key] = JSON.stringify(data);\r\n}\r\n//读取本地存储\r\nexport const getLocalStorageEffect=(key)=>{\r\n   return JSON.parse(localStorage[key]);   \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Cart.vue?vue&type=style&index=0&id=66435b30&lang=scss&scoped=true\"","<template>\r\n  <div class=\"tabBar\">\r\n    <div\r\n      v-for=\"(item, index) in tabBarList\"\r\n      :key=\"index\"\r\n      :class=\"{\r\n        tabBar__item: true,\r\n        'tabBar__item--active': currentPage === index\r\n      }\"\r\n      @click=\"handleTab(index, item.path)\"\r\n    >\r\n      <i :class=\"item.icon\"></i>\r\n      <span class=\"tabBar__item__title\">{{ item.title }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, reactive } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\n\r\n\r\n\r\n//tabBar 点击\r\nconst useTabBarHandleEffect = () => {\r\n  const store = useStore();\r\n  const router = useRouter();\r\n  let tabBarList = reactive([\r\n    { icon: \"iconfont icon-home\", title: \"首页\", path:\"Home\",page:0},\r\n    { icon: \"iconfont icon-cart\", title: \"购物车\", path:\"Cart\",page:1},\r\n    { icon: \"iconfont icon-icon-test\", title: \"订单\", path:\"Order\",page:2},\r\n    { icon: \"iconfont icon-icon-test2\", title: \"我的\", path:\"Personal\",page:3}\r\n  ]);\r\n\r\n  //计算属性：当前页面\r\n  const currentPage=computed(()=>{\r\n    let page = 0;\r\n    const pathname = localStorage.pathName;\r\n    for (const item of tabBarList) {\r\n      if(pathname===item.path){\r\n        page=item.page;\r\n      }\r\n    }\r\n    return page;\r\n  });\r\n  \r\n  const handleTab = (index, path) => {\r\n    router.push({ name: path });\r\n  };\r\n\r\n  return { tabBarList, currentPage, handleTab };\r\n}\r\n\r\nexport default {\r\n  name: \"tabBar\",\r\n  setup() {\r\n    const { tabBarList, currentPage, handleTab } = useTabBarHandleEffect();\r\n    return { tabBarList, currentPage, handleTab };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/style/variables.scss\";\r\n@import \"../../assets/style/mixins.scss\";\r\n.tabBar {\r\n  @include bottomBar();\r\n  &__item {\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-flow: column wrap;\r\n\r\n    .iconfont {\r\n      font-size: 0.4rem;\r\n      margin: 0rem 0rem 0.04rem 0rem;\r\n    }\r\n\r\n    &--active {\r\n      color: $redColor;\r\n    }\r\n    &__title {\r\n      @include fontSize10px();\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./tabBar.vue?vue&type=template&id=e53696f0&scoped=true\"\nimport script from \"./tabBar.vue?vue&type=script&lang=js\"\nexport * from \"./tabBar.vue?vue&type=script&lang=js\"\n\nimport \"./tabBar.vue?vue&type=style&index=0&id=e53696f0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-e53696f0\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TopTitle.vue?vue&type=style&index=0&id=03aa4468&lang=scss&scoped=true\""],"sourceRoot":""}