{"version":3,"sources":["webpack:///./src/components/Back.vue?ec8e","webpack:///./src/views/address/AddressEdit.vue","webpack:///./src/views/address/AddressEdit.vue?52d9","webpack:///./src/components/topTitle/ButtonRight.vue?c49d","webpack:///./src/components/Back.vue","webpack:///./src/components/Back.vue?28d3","webpack:///./src/components/topTitle/TopTitle.vue","webpack:///./src/components/topTitle/ButtonRight.vue","webpack:///./src/components/topTitle/ButtonRight.vue?6a7b","webpack:///./src/components/topTitle/TopTitle.vue?2301","webpack:///./src/views/address/AddressEdit.vue?58fc","webpack:///./src/components/topTitle/TopTitle.vue?c775"],"names":["class","pageTitle","buttonText","okClick","type","placeholder","city","inputBlurSetValue","department","houseNumber","name","phone","switchDefault","defaultAddress","store","bodyData","addressId","serverBodyData","id","params","getAddressData","url","result","errno","data","dispatch","value","components","TopTitle","setup","render","__scopeId","handleBackClick","props","router","back","backHide","whiteColor","position","text","handlePushTo","push","state","withCredentials","setTimeout","BackButton","Back","ButtonRight"],"mappings":"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","file":"js/AddressEdit.259a5b41.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Back.vue?vue&type=style&index=0&id=1616427a&lang=scss&scoped=true\"","<template>\r\n  <top-title pageTitle=\"编辑收货地址\" buttonText=\"保存\" :okClick=\"okClick\"/>\r\n  <div class=\"main\">\r\n    <div class=\"addNew\">\r\n      <div class=\"addNew__item\">\r\n        <span class=\"title\">所在城市：</span>\r\n        <input class=\"addNew__item__input\" type=\"text\" placeholder=\"如北京市\" \r\n        v-model=\"city\"\r\n        @blur=\"inputBlurSetValue\"\r\n        />\r\n      </div>\r\n      <div class=\"addNew__item\">\r\n        <span class=\"title\">小区/大厦/学校：</span>\r\n        <input class=\"addNew__item__input\" type=\"text\" placeholder=\"如理工大学国防科技园\" \r\n        v-model=\"department\"\r\n        @blur=\"inputBlurSetValue\"\r\n        />\r\n      </div>\r\n      <div class=\"addNew__item\">\r\n        <span class=\"title\">楼号-门牌号：</span>\r\n        <input class=\"addNew__item__input\" type=\"text\" placeholder=\"A号楼12层\" \r\n        v-model=\"houseNumber\"  \r\n        @blur=\"inputBlurSetValue\"\r\n        />\r\n      </div>\r\n      <div class=\"addNew__item\">\r\n        <span class=\"title\">收货人：</span>\r\n        <input class=\"addNew__item__input\" type=\"text\" placeholder=\"请填写收货人的姓名\" \r\n        v-model=\"name\"   \r\n        @blur=\"inputBlurSetValue\"\r\n        />\r\n      </div>\r\n      <div class=\"addNew__item\">\r\n        <span class=\"title\">联系电话：</span>\r\n        <input class=\"addNew__item__input\" type=\"text\" placeholder=\"请填写收货手机号\" \r\n        v-model=\"phone\"   \r\n        @blur=\"inputBlurSetValue\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n     <div class=\"defaultAddress\" @click=\"switchDefault\">\r\n      <div class=\"defaultAddress_icon\">\r\n        <span\r\n          class=\"iconfont icon-xuanzhongduigou\"\r\n          v-if=\"defaultAddress\"\r\n        ></span>\r\n        <span class=\"iconfont icon-unchecked\" v-if=\"!defaultAddress\"></span>\r\n      </div>\r\n      <p>默认地址</p>\r\n    </div>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive,toRefs,ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRoute } from \"vue-router\";\r\nimport {get} from \"../../utils/request\"\r\nimport TopTitle from \"../../components/topTitle/TopTitle.vue\";\r\n\r\nconst useAddressEditEffect=()=>{\r\n    const store = useStore();   \r\n    //是否可点击\r\n    const okClick = ref(false);\r\n    //定义bodyData响应数据\r\n    const bodyData = reactive({\r\n        city:\"\",\r\n        department:\"\",\r\n        houseNumber:\"\",\r\n        name:\"\",\r\n        phone:\"\",\r\n        defaultAddress:false,\t\r\n\t\taddressId:\"\"\r\n    });\r\n    let serverBodyData = {};\r\n    //获取路由传来的路径id\r\n    const id = useRoute().params.id;\r\n\t\r\n    //获取服务器地址\r\n    const getAddressData =async()=>{\r\n        const url = `/api/user/address/${id}`;\r\n        const result = await get(url);\r\n\t\t\r\n        if(result?.errno === 0){          \r\n            const {city,department,houseNumber,name,phone,defaultAddress} = result.data;\r\n\t\t\tstore.dispatch(\"setAddressData\",{city,department,houseNumber,name,phone,defaultAddress,\"addressId\":id})//存store,button用\r\n            serverBodyData = result.data;//存储服务端的数据,不再改变\r\n\t\t\t\r\n            //bodyData的数据是响应式的，页面跟随变化\r\n            bodyData.city=city;\r\n            bodyData.department = department;\r\n            bodyData.houseNumber= houseNumber;\r\n            bodyData.name= name;\r\n            bodyData.phone= phone;\r\n            bodyData.defaultAddress= defaultAddress;\r\n            bodyData.addressId = id;\r\n        }\r\n        return \r\n    }\r\n\r\n    //实时改变input数据\r\n    const inputBlurSetValue = ()=>{\r\n        const {city,department,houseNumber,name,phone,defaultAddress} = bodyData; //一旦直接解构失去响应性\r\n        //服务端的数据和现在的input的数据，不一样，改变kClick的值\r\n        if(city !== serverBodyData.city || \r\n        department !== serverBodyData.department || \r\n        houseNumber!== serverBodyData.houseNumber || \r\n        name !== serverBodyData.name || \r\n        phone !== serverBodyData.phone\r\n        ){         \r\n            okClick.value = true;            \r\n        }else{\r\n            okClick.value = false;   \r\n        }\r\n        store.dispatch(\"setAddressData\",bodyData)//存store,button用\r\n    }\r\n    //切换默认地址\r\n    const switchDefault = () => {   \r\n        bodyData.defaultAddress = !bodyData.defaultAddress;\r\n        if(bodyData.defaultAddress !== serverBodyData.defaultAddress){\r\n           okClick.value = true;    \r\n        }else{\r\n            okClick.value = false;   \r\n        }\r\n        store.dispatch(\"setAddressData\", bodyData);//修改store，button要用\r\n    };\r\n    \r\n    const {city,department,houseNumber,name,phone,defaultAddress} =toRefs(bodyData)\r\n    return { city,department,houseNumber,name,phone,defaultAddress,switchDefault,inputBlurSetValue,getAddressData,okClick }\r\n}\r\n\r\nexport default {\r\n  name: \"AddressEdit\",\r\n  components: { TopTitle },\r\n  setup(){\r\n      const { city,department,houseNumber,name,phone,defaultAddress,switchDefault,inputBlurSetValue,getAddressData,okClick } = useAddressEditEffect();\r\n      getAddressData();\r\n      return {city,department,houseNumber,name,phone,defaultAddress,switchDefault,inputBlurSetValue,okClick}\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/style/variables.scss\";\r\n.main {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 1.1rem;\r\n  padding-top: 0.24rem;\r\n  bottom: 0;\r\n  z-index: 10;\r\n  overflow-y: auto;\r\n  background: #f8f8f8;\r\n  .addNew {\r\n    background: #fff;\r\n    padding: 0rem 0.4rem;\r\n    &__item {\r\n      border-bottom: 0.02rem solid $border-color;\r\n      height: 0.9rem;\r\n      line-height: 0.9rem;\r\n      font-size: 0.28rem;\r\n      color:$content-notice-fontColor;\r\n      display: flex;\r\n      &__input{\r\n          height: 100%;\r\n          flex: 1;\r\n          padding: 0rem 0.1rem 0rem 0.16rem;\r\n      }\r\n      &__input::-webkit-input-placeholder {\r\n        color: $searchbox-color;\r\n      }\r\n      &__input:-moz-placeholder {\r\n        color: $searchbox-color;\r\n      }\r\n      &__input::-moz-placeholder {\r\n        color:$searchbox-color;\r\n      }\r\n      &__input:-ms-input-placeholder {\r\n        color: $searchbox-color;\r\n      }\r\n    }\r\n  }\r\n    .defaultAddress{\r\n     display: flex;\r\n    align-items: center;\r\n    float: right;\r\n    margin: .24rem .4rem;\r\n    color: $content-notice-fontColor;\r\n    .iconfont{\r\n     margin-right: 0.08rem;\r\n    font-size: .38rem;}\r\n    .icon-xuanzhongduigou{color: $blueColor;}\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./AddressEdit.vue?vue&type=template&id=f552a6d2&scoped=true\"\nimport script from \"./AddressEdit.vue?vue&type=script&lang=js\"\nexport * from \"./AddressEdit.vue?vue&type=script&lang=js\"\n\nimport \"./AddressEdit.vue?vue&type=style&index=0&id=f552a6d2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-f552a6d2\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ButtonRight.vue?vue&type=style&index=0&id=9580d82e&lang=scss&scoped=true\"","<template>\r\n    <div \r\n    :class=\"{'back':true,\r\n    'backWhite':whiteColor?true:false,\r\n    'backposition':position?true:false}\"\r\n    @click=\"handleBackClick\"\r\n    >\r\n    <span class=\"iconfont icon-fanhui\"></span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {useRouter} from 'vue-router';\r\nexport default {\r\n    name:'BackButton',\r\n    props:['whiteColor','position'],\r\n    setup(){\r\n        const router = useRouter();\r\n        const handleBackClick=()=>{\r\n            router.back();\r\n        }\r\n        return{handleBackClick}\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/style/variables.scss';\r\n.back{\r\n    color:$searchbox-color;\r\n    margin-bottom: $layout-margin-bottom;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-right: .1rem;\r\n    .iconfont{\r\n        font-size: .64rem;\r\n    }\r\n}\r\n.backWhite{\r\n    color:#fff;   \r\n}\r\n.backposition{\r\n    position: absolute;\r\n    left:.25rem;\r\n    margin:0rem;\r\n    z-index: 10;\r\n}\r\n</style>","import { render } from \"./Back.vue?vue&type=template&id=1616427a&scoped=true\"\nimport script from \"./Back.vue?vue&type=script&lang=js\"\nexport * from \"./Back.vue?vue&type=script&lang=js\"\n\nimport \"./Back.vue?vue&type=style&index=0&id=1616427a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1616427a\"\n\nexport default script","<template>\r\n  <div class=\"top\">\r\n    <back-button\r\n      :whiteColor=\"whiteColor\"\r\n      :position=\"true\"\r\n      v-if=\"backHide ? false : true\"\r\n    />\r\n    <div :class=\"{ top__title: true, titleWhite: whiteColor ? true : false }\">\r\n      {{ pageTitle }}\r\n      <div class=\"top__button\" v-if=\"buttonText\">\r\n        <button-right :text=\"buttonText\" :pageTitle=\"pageTitle\" :okClick=\"okClick\"/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n//获取组件\r\nimport BackButton from \"../../components/Back\";\r\nimport ButtonRight from \"./ButtonRight.vue\";\r\nexport default {\r\n  name: \"TopTitle\",\r\n  props: [\"whiteColor\", \"pageTitle\", \"backHide\", \"buttonText\",\"okClick\"],\r\n  components: { BackButton,ButtonRight }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/style/variables.scss\";\r\n.top {\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  position: fixed;\r\n  z-index: 55;\r\n  justify-content: flex-start;\r\n  padding: 0.2rem 0rem $layout-margin-bottom;\r\n  &__title {\r\n    flex: 1;\r\n    flex: 1;\r\n    height: 0.7rem;\r\n    line-height: 0.7rem;\r\n    font-size: 0.32rem;\r\n    text-align: center;\r\n    position: relative;\r\n    .top__button {\r\n      position: absolute;\r\n      top: 0;\r\n      right: 0;\r\n      height: 0.7rem;\r\n      line-height: 0.7rem;\r\n      font-size: 0.28rem;\r\n    }\r\n  }\r\n  .titleWhite {\r\n    color: #fff;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n    <div :class=\"{button__right:true,noneClick:okClick?false:true}\" @click=\"handlePushTo(okClick)\">{{text}}</div>\r\n</template>\r\n<script>\r\n\r\nimport { useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport {post,patch} from \"../../utils/request\"\r\n\r\nconst useButtonEffect =(text,pageTitle)=>{\r\n    const router =  useRouter();\r\n    const store = useStore();\r\n\t\r\n\t//获取路由传来的路径id\r\n\t//const id = router.params.id;\r\n    const handlePushTo=async(okClick)=>{\r\n   \r\n        if(text === '新建'){\r\n            router.push(`/address/new`)\r\n        }\r\n        if(text === '保存'){      \r\n        \r\n            if(!okClick) return;\r\n\r\n            if(pageTitle === \"编辑收货地址\"){\r\n\t\t\t\t\r\n                //从store中解构出数据\r\n                const {city,department,houseNumber,name,phone,defaultAddress,addressId} = store.state.bodyData;\r\n\r\n                const url = `/api/user/address/${addressId}`;\r\n\t\t\t\tconst result = await patch(url,{city,department,houseNumber,name,phone,defaultAddress},{withCredentials:true});\r\n                if(result?.errno === 0){\r\n                   setTimeout(()=>{\r\n                     router.back();\r\n                   },400); \r\n                }\r\n            }\r\n            if(pageTitle === \"新建收货地址\"){\r\n                //从store中解构出数据\r\n                const {city,department,houseNumber,name,phone,defaultAddress} = store.state.bodyData;\r\n                const url = \"/api/user/address\";\r\n                const result = await post(url,{city,department,houseNumber,name,phone,defaultAddress},{withCredentials:true});\r\n                if(result?.errno === 0){\r\n                   setTimeout(()=>{\r\n                     router.back();\r\n                   },400); \r\n                }               \r\n            }\r\n        }\r\n    }\r\n    return {handlePushTo}\r\n}\r\n\r\nexport default {\r\n    name:\"ButtonRight\",\r\n    props:[\"text\",\"pageTitle\",\"okClick\"],\r\n    setup(props){\r\n        const {handlePushTo} = useButtonEffect(props.text,props.pageTitle,props.okClick);\r\n        return {handlePushTo}\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.button__right{\r\n    padding: 0rem 0.4rem 0rem 0.36rem;\r\n}\r\n.noneClick{\r\n    opacity: .2;\r\n}\r\n</style>","import { render } from \"./ButtonRight.vue?vue&type=template&id=9580d82e&scoped=true\"\nimport script from \"./ButtonRight.vue?vue&type=script&lang=js\"\nexport * from \"./ButtonRight.vue?vue&type=script&lang=js\"\n\nimport \"./ButtonRight.vue?vue&type=style&index=0&id=9580d82e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-9580d82e\"\n\nexport default script","import { render } from \"./TopTitle.vue?vue&type=template&id=393dd989&scoped=true\"\nimport script from \"./TopTitle.vue?vue&type=script&lang=js\"\nexport * from \"./TopTitle.vue?vue&type=script&lang=js\"\n\nimport \"./TopTitle.vue?vue&type=style&index=0&id=393dd989&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-393dd989\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AddressEdit.vue?vue&type=style&index=0&id=f552a6d2&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TopTitle.vue?vue&type=style&index=0&id=393dd989&lang=scss&scoped=true\""],"sourceRoot":""}