{"version":3,"sources":["webpack:///./src/components/tabBar/tabBar.vue?17a0","webpack:///./src/views/cart/Cart.vue","webpack:///./src/views/cart/Cart.vue?3a68","webpack:///./src/assets/images/nullCartGrey.png","webpack:///./src/views/cart/Cart.vue?204e","webpack:///./src/components/tabBar/tabBar.vue","webpack:///./src/components/tabBar/tabBar.vue?4ab3"],"names":["class","src","alt","pageTitle","title","backHide","shopIdList","id","index","shopId","showLink","showNum","isNull","to","cartList","shopidList","i","nullobj","JSON","stringify","productList","push","value","num","length","name","components","TabBar","TopTitle","ShopCart","setup","render","__scopeId","module","exports","tabBarList","item","key","handleTab","path","icon","router","page","currentPage","pathname","localStorage","pathName"],"mappings":"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","file":"js/cart.f328bbef.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./tabBar.vue?vue&type=style&index=0&id=e53696f0&lang=scss&scoped=true\"","<template>\r\n  <div class=\"toptitles\">\r\n     <top-title :pageTitle=\"title\" :backHide=\"true\" />\r\n  </div>\r\n  <div class=\"main\">\r\n    <template v-for=\"(id, index) in shopIdList\" :key=\"index\">\r\n      <shop-cart :shopId=\"id\" :showLink=\"true\" showNum='3' />\r\n    </template>\r\n\r\n    <div class=\"nullCart\" v-if=\"isNull?true:false\">\r\n      <div class=\"nullCart__img\"><img src=\"../../assets/images/nullCartGrey.png\" alt=\"\"></div>\r\n      <div class=\"nullCart__title\">购物车还空空如也哦~</div> \r\n      <div class=\"nullCart__button\">\r\n        <router-link to='/'>\r\n        去逛逛\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <tab-bar />\r\n  <div class=\"pageMainBg\"></div>\r\n</template>\r\n<script>\r\nimport { ref, computed } from \"vue\";\r\nimport {\r\n  useLocalStorageEffect,\r\n  useCommonCartEffect\r\n} from \"../../components/effects/cartEffect\";\r\n//获取组件\r\nimport TopTitle from \"../../components/topTitle/TopTitle.vue\";\r\nimport TabBar from \"../../components/tabBar/tabBar\";\r\nimport ShopCart from \"../../components/shopcart/ShopCart.vue\";\r\n\r\n//获得购物车店铺shopId的 list\r\nconst useGetShopIdListEffect = cartList => {\r\n  const isNull=ref(true);\r\n  const shopIdList = computed(() => {\r\n    const shopidList = [];\r\n    for (let i in cartList) {\r\n      const nullobj= JSON.stringify(cartList[i]?.productList)==='{}';//是否是空对象\r\n      if(!nullobj){\r\n        shopidList.push(i);\r\n        isNull.value=false;\r\n      } \r\n    }\r\n    return shopidList;\r\n  });\r\n  const num = ref(shopIdList.value.length);\r\n  const title = `我的全部购物车(${num.value})`;\r\n\r\n  return { shopIdList, title,isNull };\r\n}\r\n\r\nexport default {\r\n  name: \"Cart\",\r\n  components: { TabBar, TopTitle, ShopCart },\r\n  setup() {\r\n    useLocalStorageEffect(); //打开页面时，从本地获取数据\r\n\r\n    const { cartList } = useCommonCartEffect();\r\n    const { shopIdList, title,isNull } = useGetShopIdListEffect(cartList);\r\n\r\n    return { shopIdList, title,isNull };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\"  scoped>\r\n@import \"../../assets/style/variables.scss\";\r\n@import \"../../assets/style/mixins.scss\";\r\n\r\n.toptitles{\r\n  width: 100%;\r\n  background: #fff;\r\n  box-sizing: border-box;\r\n  height: 1rem;\r\n  overflow: hidden;\r\n  position: fixed;\r\n  z-index: 50;\r\n}\r\n.main {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 1.1rem;\r\n  padding-top: $layout-margin-bottom;\r\n  bottom: 0.99rem;\r\n  z-index: 10;\r\n  overflow-y: auto;\r\n}\r\n\r\n.nullCart{\r\n  text-align: center;\r\n  position: relative;\r\n  top:50%;\r\n  transform: translateY(-85%);\r\n  &__img{\r\n    opacity: .35;\r\n    width:1.8rem;\r\n    display: inline-block;\r\n    margin-bottom:.14rem;\r\n    img{width:100%}\r\n  }\r\n  &__title{\r\n    font-size: .3rem;\r\n    color:$content-fontColor-grey;\r\n    margin-bottom: .36rem;\r\n  }\r\n  &__button{\r\n    display: inline-block;\r\n    width: 1.8rem;\r\n    height: .64rem;\r\n    line-height: .64rem;\r\n    font-size: .28rem;\r\n    border-radius: .32rem;\r\n    background: $redColor;\r\n    a{\r\n      display: block;\r\n      color:#fff;\r\n      height: 100%;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n.pageMainBg {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: $pageBgColor;\r\n  z-index: 1;\r\n}\r\n</style>\r\n","import { render } from \"./Cart.vue?vue&type=template&id=66435b30&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=66435b30&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-66435b30\"\n\nexport default script","module.exports = __webpack_public_path__ + \"img/nullCartGrey.221953ef.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Cart.vue?vue&type=style&index=0&id=66435b30&lang=scss&scoped=true\"","<template>\r\n  <div class=\"tabBar\">\r\n    <div\r\n      v-for=\"(item, index) in tabBarList\"\r\n      :key=\"index\"\r\n      :class=\"{\r\n        tabBar__item: true,\r\n        'tabBar__item--active': currentPage === index\r\n      }\"\r\n      @click=\"handleTab(index, item.path)\"\r\n    >\r\n      <i :class=\"item.icon\"></i>\r\n      <span class=\"tabBar__item__title\">{{ item.title }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, reactive } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\n\r\n\r\n\r\n//tabBar 点击\r\nconst useTabBarHandleEffect = () => {\r\n  const store = useStore();\r\n  const router = useRouter();\r\n  let tabBarList = reactive([\r\n    { icon: \"iconfont icon-home\", title: \"首页\", path:\"Home\",page:0},\r\n    { icon: \"iconfont icon-cart\", title: \"购物车\", path:\"Cart\",page:1},\r\n    { icon: \"iconfont icon-icon-test\", title: \"订单\", path:\"Order\",page:2},\r\n    { icon: \"iconfont icon-icon-test2\", title: \"我的\", path:\"Personal\",page:3}\r\n  ]);\r\n\r\n  //计算属性：当前页面\r\n  const currentPage=computed(()=>{\r\n    let page = 0;\r\n    const pathname = localStorage.pathName;\r\n    for (const item of tabBarList) {\r\n      if(pathname===item.path){\r\n        page=item.page;\r\n      }\r\n    }\r\n    return page;\r\n  });\r\n  \r\n  const handleTab = (index, path) => {\r\n    router.push({ name: path });\r\n  };\r\n\r\n  return { tabBarList, currentPage, handleTab };\r\n}\r\n\r\nexport default {\r\n  name: \"tabBar\",\r\n  setup() {\r\n    const { tabBarList, currentPage, handleTab } = useTabBarHandleEffect();\r\n    return { tabBarList, currentPage, handleTab };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/style/variables.scss\";\r\n@import \"../../assets/style/mixins.scss\";\r\n.tabBar {\r\n  @include bottomBar();\r\n  &__item {\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-flow: column wrap;\r\n\r\n    .iconfont {\r\n      font-size: 0.4rem;\r\n      margin: 0rem 0rem 0.04rem 0rem;\r\n    }\r\n\r\n    &--active {\r\n      color: $redColor;\r\n    }\r\n    &__title {\r\n      @include fontSize10px();\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./tabBar.vue?vue&type=template&id=e53696f0&scoped=true\"\nimport script from \"./tabBar.vue?vue&type=script&lang=js\"\nexport * from \"./tabBar.vue?vue&type=script&lang=js\"\n\nimport \"./tabBar.vue?vue&type=style&index=0&id=e53696f0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-e53696f0\"\n\nexport default script"],"sourceRoot":""}