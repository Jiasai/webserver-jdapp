(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{"0f9e":function(e,t,n){"use strict";n.r(t);var s=n("7a23"),a=n("ba97"),r=n.n(a),c=Object(s["P"])("data-v-79aa3d15");Object(s["z"])("data-v-79aa3d15");var i={class:"wrapper"},o=Object(s["i"])("div",{class:"wrapper__img"},[Object(s["i"])("img",{src:r.a,alt:""})],-1),u={class:"wrapper__input"},p={key:0,class:"tishiBox"},l={key:0,class:"wrapper__input__tishi"},d=Object(s["h"])("用户名已存在"),b=Object(s["i"])("span",null,"，建议使用个人手机号注册",-1),w={key:1,class:"wrapper__input__tishi success"},h={class:"wrapper__input"},O={class:"wrapper__input"};Object(s["x"])();var f=c((function(e,t,n,a,r,c){var f=Object(s["D"])("Toast");return Object(s["w"])(),Object(s["e"])("div",i,[o,Object(s["i"])("div",u,[Object(s["N"])(Object(s["i"])("input",{class:"wrapper__input__content",placeholder:"请输入用户名",onBlur:t[1]||(t[1]=function(){return a.inputBlur&&a.inputBlur.apply(a,arguments)}),onFocus:t[2]||(t[2]=function(){return a.inputFocus&&a.inputFocus.apply(a,arguments)}),"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.username=e})},null,544),[[s["I"],a.username]]),a.Tishi.inputOK?(Object(s["w"])(),Object(s["e"])("div",p,[a.Tishi.isOK?Object(s["f"])("",!0):(Object(s["w"])(),Object(s["e"])("div",l,[d,b])),a.Tishi.isOK?(Object(s["w"])(),Object(s["e"])("div",w,"√ 用户名可用")):Object(s["f"])("",!0)])):Object(s["f"])("",!0)]),Object(s["i"])("div",h,[Object(s["N"])(Object(s["i"])("input",{type:"password",class:"wrapper__input__content",placeholder:"请输入密码","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.password=e})},null,512),[[s["I"],a.password]])]),Object(s["i"])("div",O,[Object(s["N"])(Object(s["i"])("input",{type:"password",class:"wrapper__input__content",placeholder:"请再次确认密码","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.ensurement=e})},null,512),[[s["I"],a.ensurement]])]),Object(s["i"])("div",{onClick:t[6]||(t[6]=function(){return a.handleRegister&&a.handleRegister.apply(a,arguments)}),class:"wrapper__register-button"},"注册"),Object(s["i"])("div",{class:"wrapper__register-link",onClick:t[7]||(t[7]=function(){return a.handleToLogin&&a.handleToLogin.apply(a,arguments)})}," 已有账号去登陆 "),a.show?(Object(s["w"])(),Object(s["e"])(f,{key:0,message:a.toastMessage,iconstate:a.iconstate,showIcon:a.showIcon},null,8,["message","iconstate","showIcon"])):Object(s["f"])("",!0)])})),j=n("1da1"),v=(n("96cf"),n("6c02")),g=n("b775"),m=(n("bc3a"),n("c537")),_=function(e,t){return e.username.length<3||e.password.length<3?(t("输入字符长度不足"),!1):e.password===e.ensurement||(t("密码2次输入不一致"),!1)},I=function(e){var t=Object(v["d"])(),n=Object(s["A"])({username:"",password:"",ensurement:""}),a=Object(s["A"])({isOK:!1,inputOK:!1}),r=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.inputOK=!1;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,n.username){t.next=3;break}return t.abrupt("return");case 3:return s="/api/user/register/".concat(n.username),t.next=6,Object(g["a"])(s);case 6:r=t.sent,0===(null===r||void 0===r?void 0:r.errno)?(a.inputOK=!0,a.isOK=!0):(a.inputOK=!0,a.isOK=!1),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e("请求失败","defeat");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),i=function(){var s=Object(j["a"])(regeneratorRuntime.mark((function s(){var a,r,c,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,_(n,e)){s.next=3;break}return s.abrupt("return");case 3:return a="/api/user/register",r=n.username,c=n.password,s.next=7,Object(g["d"])(a,{username:r,password:c},{withCredentials:!0});case 7:i=s.sent,0===(null===i||void 0===i?void 0:i.errno)?(e("注册成功","success"),setTimeout((function(){t.push({name:"Login"})}),2e3)):e("注册失败","defeat"),s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](0),e("请求失败","defeat");case 14:case"end":return s.stop()}}),s,null,[[0,11]])})));return function(){return s.apply(this,arguments)}}(),o=Object(s["G"])(n),u=o.username,p=o.password,l=o.ensurement;return{handleRegister:i,Tishi:a,inputBlur:c,inputFocus:r,username:u,password:p,ensurement:l}},T=function(){var e=Object(v["d"])(),t=function(){e.push({name:"Login"})};return{handleToLogin:t}},k={name:"Register",components:{Toast:m["a"]},setup:function(){var e=Object(m["b"])(),t=e.show,n=e.toastMessage,s=e.showToast,a=e.iconstate,r=e.showIcon,c=I(s),i=c.handleRegister,o=c.Tishi,u=c.inputBlur,p=c.inputFocus,l=c.username,d=c.password,b=c.ensurement,w=T(),h=w.handleToLogin;return{handleRegister:i,Tishi:o,inputBlur:u,inputFocus:p,username:l,password:d,ensurement:b,show:t,toastMessage:n,iconstate:a,showIcon:r,handleToLogin:h}}};n("93e6");k.render=f,k.__scopeId="data-v-79aa3d15";t["default"]=k},"42a3":function(e,t,n){},"656c":function(e,t,n){},"83fb":function(e,t,n){"use strict";n("656c")},"93e6":function(e,t,n){"use strict";n("42a3")},ba97:function(e,t,n){e.exports=n.p+"img/user.55d798b6.png"},c537:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var s=n("7a23"),a=Object(s["P"])("data-v-a8bd786c");Object(s["z"])("data-v-a8bd786c");var r={class:"toast"},c={class:"toast-text"};Object(s["x"])();var i=a((function(e,t,n,a,i,o){return Object(s["w"])(),Object(s["e"])("div",r,[n.showIcon?(Object(s["w"])(),Object(s["e"])("span",{key:0,class:n.iconstate},null,2)):Object(s["f"])("",!0),Object(s["i"])("span",c,Object(s["F"])(n.message),1)])})),o=function(){var e=Object(s["A"])({show:!1,toastMessage:"",icon:{success:"iconfont icon-chenggong2",defeat:"iconfont icon-shibai1"},iconstate:"",showIcon:!1}),t=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n||(e.showIcon=!1),void 0!==e.icon[n]&&(e.showIcon=!0,e.iconstate=e.icon[n]),e.show=!0,e.toastMessage=t,setTimeout((function(){e.show=!1,e.showIcon=!1,e.toastMessage=""}),1800)},n=Object(s["G"])(e),a=n.show,r=n.toastMessage,c=n.iconstate,i=n.showIcon;return{show:a,toastMessage:r,showToast:t,iconstate:c,showIcon:i}},u={name:"Toast",props:["message","iconstate","showIcon"]};n("83fb");u.render=i,u.__scopeId="data-v-a8bd786c";t["a"]=u}}]);
//# sourceMappingURL=register.4681775a.js.map